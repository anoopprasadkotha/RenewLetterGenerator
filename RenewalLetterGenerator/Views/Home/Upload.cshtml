@model IEnumerable<RenewalLetterGenerator.Models.MemberDetailsModel>
@using System.Data;

@{
    /**/

    ViewBag.Title = "Upload File";
}

<h2>Upload File</h2>

<p>Please Upload the format dimilar to the attached</p>

<p>Each row is validated with standard input formats please find the example records in the attached Csv file</p>

<p>The files will be generated to the location  </p>

@using (Html.BeginForm("Upload", "Home", null, FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary()

    <div class="form-group">
        <input type="file" id="dataFile" name="upload" accept=".csv" />
    </div>

    <div class="form-group">
        <input type="submit" value="Upload" class="btn btn-default" />
    </div>
    if (Model != null)
    {
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Title)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.FirstName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.SurName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ProductName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PayoutAmount)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.AnnualPremium)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.IsGeneratedNow)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Title)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.FirstName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SurName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ProductName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PayoutAmount)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.AnnualPremium)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IsGeneratedNow)
                    </td>
                </tr>
            }

        </table>

    }
}

